## 进程，线程

##### **进程：进程是资源分配的基本单位。**

**线程：任务调度的最小单位**

### 状态切换：

![img](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/ProcessState.png)

**创建状态(new)** ：进程正在被创建，尚未到就绪状态。

**就绪状态（ready)：**等待被调度 **缺少时间片资源**

**阻塞状态（waiting)：**等待资源 缺少除时间片以外的其他资源I/O，完成后进入就绪态

**就绪态和运行态可以相互转换**，其它的都是**单向转换**



### 进程调度

**1、批处理系统**

​	**先到先服务(FCFS)调度算法** : 从就绪队列中选择一个最先进入该队列的进程为之分配资源，使它立即执行并一直执行到完成或发生某事件而被阻塞放弃占用CPU时再重新调度。

​	**短作业优先(SJF)的调度算法** : 从就绪队列中选出一个估计运行时间最短的进程为之分配资源，使它立即执行并一直执行到完成或发生某事件而被阻塞放弃占用CPU时再重新调度。

**2、交互式系统**

​	**时间片轮转调度算法** : 时间片轮转调度是一种最古老，最简单，最公平且使用最广的算法，又称RR(Round robin)调度。每个进程被分配一个时间段，称作它的时间片，即该进程允许运行的时间。

​	**多级反馈队列调度算法** ：前面介绍的几种进程调度的算法都有一定的局限性。如**短进程优先的调度算法，仅照顾了短进程而忽略了长进程** 。多级反馈队列调度算法既能使高优先级的作业得到响应又能使短作业（进程）迅速完成。，因而它是目前**被公认的一种较好的进程调度算法**，UNIX操作系统采取的便是这种调度算法。

​	**优先级调度**为每个进程分配一个优先级，按优先级进行调度。为了防止低优先级的进程永远等不到调度，可以随着时间的推移增加等待进程的优先级。



### 进程通信

低端通信：【同步，互斥等问题】

​		**信号量(Semaphores)** ：信号量是一个计数器，用于多进程对共享数据的访问，信号量的意图在于进程间同步。

高端通信：

​		**管道/匿名管道(Pipes)** ：用于具有亲缘关系的父子进程间或者兄弟进程之间的通信。

​		**有名管道(Names Pipes)** : 非亲缘也可通信

​		**共享内存(Shared memory)** ：使得多个进程可以访问同一块内存空间，不同进程可以及时看到对方进程中对共享内存中数据的更新。

​		**消息队列(Message Queuing)** ：消息队列是消息的链表,具有特定的格式,存放在内存中并由消息队列标识符标识。

​		**套接字(Sockets)** : 此方法主要用于在客户端和服务器之间通过网络进行通信。



### 线程同步

相同进程下的多线程通信：【同步互斥的低端通讯】

​		**互斥量(Mutex)**：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。比如 Java 中的 synchronized 关键词和各种 Lock 都是这种机制。【0，1】

​		**信号量(Semphares)** ：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。

​		**事件(Event)** :Wait/Notify：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级。

不同进程下的多线程通信：【与进程通信相同】
